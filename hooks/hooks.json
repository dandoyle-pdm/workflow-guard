{
  "PreToolUse": [
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "command",
          "command": "engine/bin/dispatcher",
          "timeout": 5
        },
        {
          "type": "command",
          "command": "hooks/block-main-commits.sh",
          "timeout": 10
        },
        {
          "type": "command",
          "command": "hooks/enforce-pr-workflow.sh",
          "timeout": 10
        },
        {
          "type": "command",
          "command": "hooks/enforce-ticket-completion.sh",
          "timeout": 10
        }
      ]
    },
    {
      "matcher": "mcp__git__git_commit|mcp__git__git_add",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/block-mcp-git-commits.sh",
          "timeout": 10
        }
      ]
    },
    {
      "matcher": "Edit|Write|NotebookEdit",
      "hooks": [
        {
          "type": "command",
          "command": "engine/bin/dispatcher",
          "timeout": 5
        },
        {
          "type": "command",
          "command": "hooks/confirm-code-edits.sh",
          "timeout": 10
        }
      ]
    },
    {
      "matcher": "Edit|Write|NotebookEdit",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/block-unreviewed-edits.sh",
          "timeout": 5
        }
      ]
    },
    {
      "matcher": "Read|Glob|Grep",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/block-main-thread-reads.sh",
          "timeout": 5
        }
      ]
    },
    {
      "matcher": "Write",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/validate-ticket-naming.sh",
          "timeout": 10
        }
      ]
    },
    {
      "matcher": "Task",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/track-agent-state.sh",
          "timeout": 5
        }
      ]
    },
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/diagnostic-logger.sh",
          "timeout": 5
        }
      ]
    }
  ],
  "PostToolUse": [
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/detect-protected-commits.sh",
          "timeout": 10
        }
      ]
    },
    {
      "matcher": "Task",
      "hooks": [
        {
          "type": "command",
          "command": "hooks/clear-agent-state.sh",
          "timeout": 5
        },
        {
          "type": "command",
          "command": "hooks/log-subagent-activity.sh",
          "timeout": 5
        }
      ]
    }
  ]
}
